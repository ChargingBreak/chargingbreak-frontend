sudo: false
language: node_js
node_js:
- node
script:
- npm install -g travis-ci-cloudfront-invalidation && npm install && npm run build
deploy:
  provider: s3
  access_key_id: AKIAJCFIPLWV5HCBWQOQ
  secret_access_key:
    secure: LvVkFHH5JLXS5egij7BAWe8AKFavJca1rIPQ8dWSmZqyJFN+A4g3gpKhUSk9u6y4d9jvbq9xhaN+oqlWmrLCimlfhR3lazM/4nut5FNd/3JJbfJgBwp6fJYIj/au5HSi9UBUMYD2vvIEYzLVjzxJex4jQNc/XVFCuAfes3/t4fPkSxkAgbDx4m3NopCCyiRvn9HA0XyoVi5Zc8zzkjuaoMXb3m+0eCjrgQT8nakWwHLpfbwoa8xdcYsW7pt/fOuK9LIosBforg/Pe63LfxAub3HGOMmXTX5OqaH2Pd4kDOqdkkvKRskv5+yGiJKHn/mIE894la2PTXxVv/faXdaZ/5dxIUUiy/F6QDwWjLWTJXvpTl0POlL/PCYgvnNVKNMLnXnqvC4jKJ1dlI9Hnbd4twecN/cI5iNrlA3vu77xAnlZXpUYRM1oyCGBXmpPBKXAcWeAL7Ge0Wd1/aLF8flbdbaKUD1ew7gpnJQobVFWautJzJiFg/mJxEHmRVmTTEMwl5AZmiW/lyfbeFkmrxqezHpsNKW+Lxp0CoMt4ntH7gc848obIo3qYxyf/WQz8l7CQtlmxH6aiVkgyrjFRPwsCRl/StXsoyOlG7ewmAyyA8C5wO4MMv8StlBj6+KCRL/Xdez9JiCmRQv2D0sGAz+TJ4lqYuV6bOqqhFGHbrVS88U=
  bucket: chargingbreak.com
  local-dir: dist
  acl: public_read
  skip_cleanup: true
  on:
    repo: ChargingBreak/chargingbreak-frontend
after_deploy:
- travis-ci-cloudfront-invalidation -a $AWS_ACCESS_KEY -s $AWS_SECRET_KEY -c $AWS_CLOUDFRONT_DIST_ID
  -i '/*' -b $TRAVIS_BRANCH -p $TRAVIS_PULL_REQUEST -o 'master,stage'
notifications:
  slack:
    secure: ngJe1Y7EKojo/MdpM3I2LzkguaxIUmaWwNZDLYj6zIhTJ9TOit3e0mA9LMi7IbZix9WvDGd7Qw09irSge9J5LkhLkGSu7tjbi6xrz0sSU1cWYjlS1OtY01QM7xnfsGNd4UDM8XwT+biVN4EWUaAnZlWBZ8dl0AMmtFDir/LTg8RtMHqkMe/TqChxF8DjCWcJZ6c2sZPt1R8L90otDP4mMRbVCocBCc9hCWkdDNlFfL73GpnxKUM8LSvjqK1iKGDy1EwnzvsZExsYelBOFc3zBU5q2ztDtvPq9jhqAhnK41ZGoojXHZXW5mnXlaaw3Wcsx5fihoT3tynZL36nRxA1B/zRCsXblp1GouAfZ6u3sMXErjyiA+xJU0YKZvbdjLD4Wj9BZnxh/fv3bDRWa7S8ZC7yh7+0oP1DFsdlj/Lt4YyuuES82DEs4DUZjJl5943y61B4kJ4SrHHSefdBb3IjSJnQcJcVe2qSW4QyVY9fozJzOlYPWyHPEsGOZ+n4qhZhYVS8eLQbu82/OxtWP/h+ZiJHlBIbLuUEVdJOKv1s1WPDN5quBJF1Wp0mRfI82zMnM1goiA3q8LbxLwQuiHK0cOBq1xNCiI+JSzLcBniG/T0lwWZjPkllTNJzin+4jOX615lwyvYoHOeOHwOhkStDbH4LhEjnp+t1h30rigKQL60=
